# SpringCloud 容错处理

基础服务故障导致级联故障的现象称为雪崩效应。

Hystrix 是 Netflix 开源的一个实现超时机制和断路器器模式的工具库，用于隔离访问远程系统、服务。它可以防止级联失败，从而提升系统的可用性。

Hystrix 主要是通过以下几点来实现延迟和容错：

- 包裹请求 - 使用 `HystrixCommand` 包裹对依赖的调用逻辑，每个命令在独立线程中执行。
- 跳闸机制 - 当某服务的错误率超过一定阈值时，Hystrix 可以自动或手动跳闸，停止该请求一段时间。
- 资源隔离 - Hystrix 为每个依赖都维护了一个小型的线程池（或信号量）。如果该线程池已满，发往该依赖的请求就被立即拒绝，而不是排队等候，从而加速失败判定。
- 监控 - Hystrix 可以近乎实时地监控运行指标和配置的变化。
- 回退 - 当请求失败、超时、被拒绝，或当断路器打开时，执行回退逻辑。
- 自我修复 - 断路器打开一段时间后，会自动进入半开状态。

## 参考资料

- [Consul 官网](https://www.consul.io/)
- http://blog.didispace.com/spring-cloud-starter-dalston-1/
